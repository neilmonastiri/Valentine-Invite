<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For My Love</title>
  <style>
    :root {
      --bg-1: #0b1027;
      --bg-2: #241733;
      --bg-3: #3a1f45;
      --text: #fff8fc;
      --muted: #f4ddea;
      --glass: rgba(255, 244, 250, 0.12);
      --line: rgba(255, 228, 241, 0.3);
      --pink: #ff7fb8;
      --pink-strong: #ff5ea5;
      --no: #c79ab5;
      --shadow: 0 20px 50px rgba(6, 4, 12, 0.45);
    }

    * { box-sizing: border-box; }
    html, body { margin: 0; min-height: 100%; }
    body {
      font-family: "Inter", "Segoe UI", system-ui, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1300px 700px at 10% -10%, rgba(255, 189, 224, 0.2), transparent 45%),
        radial-gradient(800px 500px at 90% 110%, rgba(255, 130, 203, 0.16), transparent 50%),
        linear-gradient(165deg, var(--bg-1), var(--bg-2) 50%, var(--bg-3));
      overflow-x: hidden;
    }

    .scene-dim {
      position: fixed;
      inset: 0;
      background: rgba(5, 4, 14, 0.35);
      opacity: 0;
      pointer-events: none;
      transition: opacity 1.1s ease;
      z-index: 4;
    }

    .scene-dim.show { opacity: 1; }

    .petal-layer, .particle-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }

    .petal {
      position: absolute;
      top: -12vh;
      width: clamp(8px, 1.9vw, 14px);
      height: clamp(6px, 1.4vw, 10px);
      border-radius: 80% 20% 65% 35%;
      background: radial-gradient(circle at 28% 30%, #ffeff7, #ffc2dc 74%);
      opacity: 0.72;
      filter: blur(.1px);
      animation: fall linear infinite;
      transform: rotate(24deg);
      pointer-events: auto;
      cursor: pointer;
    }

    @keyframes fall {
      0% { transform: translate3d(0, -8vh, 0) rotate(0deg); }
      100% { transform: translate3d(var(--drift), 108vh, 0) rotate(290deg); }
    }

    .particle {
      position: absolute;
      width: 5px;
      height: 5px;
      border-radius: 50%;
      background: rgba(255, 221, 240, 0.72);
      filter: blur(.2px);
      animation: floaty linear infinite;
    }

    @keyframes floaty {
      0%, 100% { transform: translateY(0); opacity: .2; }
      50% { transform: translateY(-12px); opacity: .66; }
    }

    .heart-haze {
      position: fixed;
      inset: 0;
      z-index: 3;
      pointer-events: none;
      opacity: 0;
      transition: opacity 1.2s ease;
      background:
        radial-gradient(circle at 43% 43%, rgba(255, 174, 223, 0.26), transparent 16%),
        radial-gradient(circle at 57% 43%, rgba(255, 174, 223, 0.26), transparent 16%),
        radial-gradient(ellipse at 50% 62%, rgba(255, 138, 203, 0.2), transparent 25%);
      filter: blur(19px);
    }

    .heart-haze.show { opacity: 1; }

    main {
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 1rem;
      position: relative;
      z-index: 5;
    }

    .card {
      width: min(92vw, 560px);
      border-radius: 28px;
      background: var(--glass);
      border: 1px solid var(--line);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow: var(--shadow), 0 0 35px rgba(255, 174, 220, 0.18);
      padding: clamp(1.5rem, 4.5vw, 2.4rem);
      text-align: center;
    }

    h1 {
      margin: 0;
      font-size: clamp(1.9rem, 8vw, 2.6rem);
      font-weight: 600;
      letter-spacing: .03em;
    }

    .sub {
      margin: .8rem auto 0;
      max-width: 26ch;
      font-size: clamp(.98rem, 3.9vw, 1.12rem);
      color: var(--muted);
      line-height: 1.5;
    }

    .focus-blur {
      filter: blur(2px) saturate(0.92);
      transition: filter 1s ease;
    }

    .envelope-wrap {
      position: fixed;
      right: 16px;
      bottom: 16px;
      z-index: 7;
      opacity: 0;
      transform: translateY(16px) scale(.9);
      pointer-events: none;
      transition: all .7s ease;
    }

    .envelope-wrap.show {
      opacity: 1;
      transform: translateY(0) scale(1);
      pointer-events: auto;
      animation: bounce 1.25s ease;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0) scale(1); }
      35% { transform: translateY(-7px) scale(1.03); }
      60% { transform: translateY(2px) scale(.99); }
    }

    .envelope {
      width: 76px;
      height: 54px;
      border-radius: 0 0 10px 10px;
      background: #ffe7f1;
      border: 1px solid #f3bdd3;
      position: relative;
      cursor: pointer;
      box-shadow: 0 13px 24px rgba(7, 5, 16, .45);
    }

    .envelope::before,
    .envelope::after {
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      border-left: 38px solid transparent;
      border-right: 38px solid transparent;
      left: 0;
      right: 0;
      margin: auto;
    }

    .envelope::before {
      top: 1px;
      border-top: 29px solid #ffd2e4;
      transform-origin: center top;
      transition: transform .7s ease;
      z-index: 2;
    }

    .envelope::after {
      bottom: 0;
      border-bottom: 27px solid #ffa8cc;
      z-index: 1;
    }

    .envelope.open::before { transform: rotateX(180deg); }

    .letter {
      position: fixed;
      inset: 50% auto auto 50%;
      transform: translate(-50%, -44%) scale(.84);
      width: min(92vw, 560px);
      z-index: 8;
      opacity: 0;
      pointer-events: none;
      border-radius: 20px;
      border: 1px solid rgba(204, 143, 174, 0.5);
      background:
        linear-gradient(180deg, rgba(255, 244, 238, 0.95), rgba(255, 237, 228, 0.94)),
        repeating-linear-gradient(0deg, rgba(190, 146, 114, 0.08), rgba(190, 146, 114, 0.08) 2px, transparent 2px, transparent 8px);
      box-shadow: 0 26px 55px rgba(6, 4, 12, 0.52);
      color: #60324d;
      padding: clamp(1.1rem, 4vw, 1.7rem);
      backdrop-filter: blur(4px);
      transition: all .9s cubic-bezier(.2,.7,.2,1);
    }

    .letter.open {
      opacity: 1;
      pointer-events: auto;
      transform: translate(-50%, -50%) scale(1);
    }

    .letter-inner {
      text-align: center;
      display: grid;
      gap: .8rem;
    }

    .question {
      margin: .15rem 0 .1rem;
      font-family: "Cormorant Garamond", Georgia, serif;
      font-size: clamp(2rem, 9vw, 3.4rem);
      letter-spacing: .02em;
      line-height: 1.1;
      color: #4f1e3f;
      text-shadow: 0 0 16px rgba(255, 176, 215, 0.35);
    }

    .mini {
      margin: 0;
      font-size: clamp(.96rem, 3.5vw, 1.08rem);
      line-height: 1.5;
      color: #734260;
    }

    .memory {
      margin-top: .2rem;
      border-top: 1px dashed rgba(115, 66, 96, 0.35);
      padding-top: .6rem;
      font-size: .92rem;
      color: #875372;
      min-height: 2.1rem;
    }

    .actions {
      margin-top: .2rem;
      display: flex;
      justify-content: center;
      gap: .7rem;
      flex-wrap: wrap;
    }

    .btn {
      border: 0;
      border-radius: 999px;
      font-size: 1rem;
      padding: .68rem 1.3rem;
      cursor: pointer;
      transition: transform .3s ease, box-shadow .3s ease, background .3s ease;
    }

    .yes {
      color: #fff;
      background: linear-gradient(180deg, var(--pink), var(--pink-strong));
      box-shadow: 0 10px 22px rgba(255, 94, 165, 0.33);
      font-weight: 600;
    }

    .no {
      color: #fff;
      background: linear-gradient(180deg, var(--no), #b987a5);
      box-shadow: 0 8px 18px rgba(73, 33, 58, 0.2);
      font-weight: 500;
    }

    .btn:hover, .btn:focus-visible { transform: translateY(-2px); }

    .yes:hover, .yes:focus-visible { box-shadow: 0 14px 24px rgba(255, 94, 165, 0.45); }

    .after {
      margin-top: .4rem;
      font-size: 1.02rem;
      color: #6e3f5d;
      min-height: 1.4rem;
    }

    .date-card {
      margin-top: .25rem;
      text-align: left;
      border-radius: 14px;
      padding: .9rem;
      background: rgba(255, 230, 238, 0.58);
      border: 1px solid rgba(169, 92, 125, 0.25);
      opacity: 0;
      transform: translateY(8px);
      transition: .8s ease;
    }

    .date-card.show { opacity: 1; transform: translateY(0); }

    .date-card h3 { margin: 0 0 .45rem; font-size: 1rem; }
    .date-card ul { margin: 0 0 .55rem 1.1rem; padding: 0; line-height: 1.45; }
    .date-card p { margin: 0; font-style: italic; }

    .sparkle {
      position: absolute;
      width: 5px;
      height: 5px;
      border-radius: 999px;
      background: #fff7fb;
      box-shadow: 0 0 8px rgba(255, 205, 232, 0.9);
      animation: sparkle 1.4s ease forwards;
    }

    @keyframes sparkle {
      from { opacity: 0; transform: translateY(0) scale(.7); }
      35% { opacity: 1; }
      to { opacity: 0; transform: translateY(-18px) scale(1.25); }
    }
  </style>
</head>
<body>
  <div class="petal-layer" id="petalLayer"></div>
  <div class="particle-layer" id="particleLayer"></div>
  <div class="heart-haze" id="heartHaze"></div>
  <div class="scene-dim" id="sceneDim"></div>

  <main>
    <section class="card" id="mainCard">
      <h1>Hi my love</h1>
      <p class="sub">Thereâ€™s something Iâ€™ve been wanting to ask youâ€¦</p>
    </section>
  </main>

  <div class="envelope-wrap" id="envelopeWrap">
    <div class="envelope" id="envelope" role="button" tabindex="0" aria-label="Open letter"></div>
  </div>

  <article class="letter" id="letter" aria-live="polite">
    <div class="letter-inner">
      <p class="mini">I chose you, and I keep choosing youâ€”every day.</p>
      <h2 class="question">Will you be my Valentine?</h2>
      <p class="mini">Thank you for being my home, my peace, and my favorite person.</p>
      <p class="memory" id="memoryLine">P.S. I love the way you laugh and make ordinary moments beautiful.</p>

      <div class="actions">
        <button class="btn yes" id="yesBtn">Yes ðŸ’–</button>
        <button class="btn no" id="noBtn">No</button>
      </div>

      <p class="after" id="afterText"></p>

      <section class="date-card" id="dateCard">
        <h3>Date idea unlocked âœ¨</h3>
        <ul>
          <li>Cozy dinner with candles and soft music</li>
          <li>Dessert walk under the evening lights</li>
          <li>Blanket + movie night, just us</li>
        </ul>
        <p>No matter what we do, my favorite part is you.</p>
      </section>
    </div>
  </article>

  <script>
    const petalLayer = document.getElementById('petalLayer');
    const particleLayer = document.getElementById('particleLayer');
    const envelopeWrap = document.getElementById('envelopeWrap');
    const envelope = document.getElementById('envelope');
    const letter = document.getElementById('letter');
    const heartHaze = document.getElementById('heartHaze');
    const sceneDim = document.getElementById('sceneDim');
    const mainCard = document.getElementById('mainCard');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const afterText = document.getElementById('afterText');
    const dateCard = document.getElementById('dateCard');
    const memoryLine = document.getElementById('memoryLine');

    const memories = [
      'P.S. I love how your hugs make everything feel safe.',
      'P.S. I love how your smile can calm my whole day.',
      'P.S. I love how we can be silly and still feel at home.',
      'P.S. I love how being with you always feels like peace.'
    ];

    let surpriseShown = false;
    let memoryIndex = 0;

    function createPetals(count = 18) {
      for (let i = 0; i < count; i++) {
        const p = document.createElement('div');
        p.className = 'petal';
        p.style.left = `${Math.random() * 100}%`;
        p.style.setProperty('--drift', `${(Math.random() * 110 - 55).toFixed(0)}px`);
        p.style.animationDuration = `${(Math.random() * 9 + 18).toFixed(2)}s`;
        p.style.animationDelay = `${(-Math.random() * 12).toFixed(2)}s`;
        p.addEventListener('mouseenter', triggerSurprise, { once: true });
        p.addEventListener('click', triggerSurprise, { once: true });
        petalLayer.appendChild(p);
      }
    }

    function createParticles(count = 16) {
      for (let i = 0; i < count; i++) {
        const dot = document.createElement('div');
        dot.className = 'particle';
        dot.style.left = `${Math.random() * 100}%`;
        dot.style.top = `${Math.random() * 100}%`;
        dot.style.animationDuration = `${(Math.random() * 8 + 9).toFixed(2)}s`;
        dot.style.animationDelay = `${(-Math.random() * 7).toFixed(2)}s`;
        particleLayer.appendChild(dot);
      }
    }

    function sparkleBurst(x = innerWidth / 2, y = innerHeight / 2, amount = 18) {
      for (let i = 0; i < amount; i++) {
        const s = document.createElement('div');
        s.className = 'sparkle';
        s.style.left = `${x + (Math.random() * 100 - 50)}px`;
        s.style.top = `${y + (Math.random() * 75 - 38)}px`;
        particleLayer.appendChild(s);
        setTimeout(() => s.remove(), 1450);
      }
    }

    function triggerSurprise() {
      if (surpriseShown) return;
      surpriseShown = true;
      heartHaze.classList.add('show');
      sceneDim.classList.add('show');
      mainCard.classList.add('focus-blur');
      setTimeout(() => envelopeWrap.classList.add('show'), 900);
      setTimeout(() => heartHaze.classList.remove('show'), 2600);
    }

    function openLetter() {
      envelope.classList.add('open');
      letter.classList.add('open');
      sparkleBurst(innerWidth * 0.52, innerHeight * 0.47, 22);
    }

    function celebrateYes() {
      afterText.textContent = 'Yay ðŸ’– I canâ€™t wait to celebrate with you.';
      dateCard.classList.add('show');
      sparkleBurst(innerWidth * 0.5, innerHeight * 0.52, 30);
      document.querySelectorAll('.petal').forEach((petal) => {
        const current = parseFloat(petal.style.animationDuration);
        petal.style.animationDuration = `${Math.max(10, current - 4)}s`;
      });
    }

    function handleNo() {
      afterText.textContent = 'Iâ€™ll keep loving you, always. ðŸ’—';
    }

    function rotateMemory() {
      memoryIndex = (memoryIndex + 1) % memories.length;
      memoryLine.textContent = memories[memoryIndex];
    }

    envelope.addEventListener('click', openLetter);
    envelope.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        openLetter();
      }
    });

    yesBtn.addEventListener('click', celebrateYes);
    noBtn.addEventListener('click', handleNo);

    window.addEventListener('scroll', () => {
      if (window.scrollY > 18) triggerSurprise();
    }, { passive: true });

    setTimeout(triggerSurprise, 12000);
    setInterval(rotateMemory, 4200);

    createPetals();
    createParticles();
  </script>
</body>
</html>
